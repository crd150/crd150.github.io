<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Professor Noli Brazil" />

<meta name="date" content="2024-01-10" />

<title>Lab 1: Introduction to R</title>

<script src="site_libs/header-attrs-2.22/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CRD 150: Winter 2024</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="hw_guidelines.html">Assignment Guidelines</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Labs/Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lab1.html">Lab 1</a>
    </li>
    <li>
      <a href="lab2.html">Lab 2</a>
    </li>
    <li>
      <a href="lab3.html">Lab 3</a>
    </li>
    <li>
      <a href="lab4.html">Lab 4</a>
    </li>
    <li>
      <a href="lab5.html">Lab 5</a>
    </li>
    <li>
      <a href="lab6.html">Lab 6</a>
    </li>
    <li>
      <a href="lab7.html">Lab 7</a>
    </li>
    <li>
      <a href="lab8.html">Lab 8</a>
    </li>
    <li>
      <a href="lab9.html">Lab 9</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="eligible.html">Eligible Communities</a>
    </li>
    <li>
      <a href="tips.html">R tips</a>
    </li>
    <li>
      <a href="ndata.html">Neighborhood Data Sources</a>
    </li>
    <li>
      <a href="bigopendata.html">Big and Open Data Sources</a>
    </li>
    <li>
      <a href="policymap.html">PolicyMap </a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Lab 1: Introduction to R</h1>
<h3 class="subtitle"><font size="4">CRD 150 - Quantitative Methods in
Community Research</font></h3>
<h4 class="author">Professor Noli Brazil</h4>
<h4 class="date">January 10, 2024</h4>

</div>


<style>
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
margin-left: 25px;
border-radius: 5px;
font-style: normal;
}

h1.title {
  font-weight: bold;
  font-family: Arial;  
}

h2.title {
  font-family: Arial
}

</style>
<style type="text/css">
#TOC {
  font-size: 13px;
  font-family: Arial;
}
</style>
<p><br />
</p>
<p>In this guide you will learn the basic fundamentals of the
statistical software program R. Because R is not a prerequisite for the
class, this guide assumes no background in the language. The objectives
of the guide are as follows:</p>
<ol style="list-style-type: decimal">
<li>Download R and RStudio</li>
<li>Get familiar with the RStudio interface</li>
<li>Understand R data types</li>
<li>Understand R data structures, in particular vectors and data
frames</li>
<li>Understand R functions</li>
<li>Understand R Markdown and the process for submitting
assignments</li>
</ol>
<p>This lab guide follows closely and supplements the material presented
in Chapters 2, 4, and 20 in the textbook <a
href="http://r4ds.had.co.nz/index.html">R for Data Science</a>
(RDS).</p>
<p class="comment">
<strong>Assignment 1 is due by 10:00 am, January 17th on
Canvas.</strong> See <a
href="https://crd150.github.io/hw_guidelines.html">here</a> for
assignment guidelines. You must submit an <code>.Rmd</code> file and its
associated <code>.html</code> file. Name the files:
yourLastName_firstInitial_asgn01. For example: brazil_n_asgn01
</p>
<div style="margin-bottom:25px;">

</div>
<div id="a-note-on-lab-guides" class="section level2">
<h2><strong>A note on lab guides</strong></h2>
<p><br />
</p>
<p>Lab guides are self-contained and self-guided. The expectation for
each guide is to get through all of it either on your own or
collaboratively. <strong>You do not need to turn in lab guides.</strong>
However, it is important that you do not skip guides as lab material
builds on one another.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="what-is-r" class="section level2">
<h2><strong>What is R?</strong></h2>
<p><br />
</p>
<p>R is a free, open source statistical programming language. It is
useful for data cleaning, analysis, and visualization. R is an
interpreted language, not a compiled one. This means that you type
something into R and it does it. It is both a command line software and
a programming environment. It is an extensible, open-source language and
computing environment for Windows, Macintosh, UNIX, and Linux platforms,
which allows for the user to freely distribute, study, change, and
improve the software.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="getting-r" class="section level2">
<h2><strong>Getting R</strong></h2>
<p><br />
</p>
<p>R can be downloaded from one of the “CRAN” (Comprehensive R Archive
Network) sites. In the US, the main site is at <a
href="http://cran.us.r-project.org/"
class="uri">http://cran.us.r-project.org/</a>. Look in the “Download and
Install R” area. Click on the appropriate link based on your operating
system.</p>
<p><strong>If you already have R on your computer, make sure you have
the most updated version of R on your personal computer (4.3.2 “Eye
Holes”).</strong></p>
<div style="margin-bottom:25px;">

</div>
<div id="mac-os-x" class="section level3">
<h3><strong>Mac OS X</strong></h3>
<ol style="list-style-type: decimal">
<li><p>On the “R for macOS” page, there are multiple packages that could
be downloaded. If you have a Mac with <a
href="https://support.apple.com/en-us/HT211814">Apple Silicon</a>, click
on R-4.3.2-arm64.pkg; if you don’t have Silicon and are running on macOS
11 (Big Sur) or higher, click on R-4.3.2-x86_64.pkg; if you are running
an earlier version of OS X, download the appropriate version listed
under “Binary for legacy macOS/OS X systems.”</p></li>
<li><p>After the package finishes downloading, locate the installer on
your hard drive, double-click on the installer package, and after a few
screens, select a destination for the installation of the R framework
(the program) and the R.app GUI. Note that you will have to supply your
computer’s Administrator’s password. Close the window when the
installation is done.</p></li>
<li><p>An application will appear in the Applications folder:
R.app.</p></li>
<li><p>Browse to the <a href="https://www.xquartz.org/">XQuartz download
page</a>. Click on the most recent version of XQuartz to download the
application.</p></li>
<li><p>Run the XQuartz installer. XQuartz is needed to create windows to
display many types of R graphics: this used to be included in MacOS
until version 10.8 but now must be downloaded separately.</p></li>
</ol>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="windows" class="section level3">
<h3><strong>Windows</strong></h3>
<ol style="list-style-type: decimal">
<li><p>On the “R for Windows” page, click on the “base” link, which
should take you to the “R-4.3.2 for Windows” page</p></li>
<li><p>On this page, click “Download R 4.3.2 for Windows”, and save the
exe file to your hard disk when prompted. Saving to the desktop is
fine.</p></li>
<li><p>To begin the installation, double-click on the downloaded file.
Don’t be alarmed if you get unknown publisher type warnings. Window’s
User Account Control will also worry about an unidentified program
wanting access to your computer. Click on “Run” or “Yes”.</p></li>
<li><p>Select the proposed options in each part of the install dialog.
When the “Select Components” screen appears, just accept the standard
choices (the default). For Startup options, keep the default.</p></li>
</ol>
<p>Note: Depending on the age of your computer and version of Windows,
you may be running either a “32-bit” or “64-bit” version of the Windows
operating system. If you have the 64-bit version (most likely), R will
install the appropriate version (R x64 3.5.2) and will also (for
backwards compatibility) install the 32-bit version (R i386 3.5.2). You
can run either, but you will probably just want to run the 64-bit
version.</p>
<div style="margin-bottom:25px;">

</div>
</div>
</div>
<div id="what-is-rstudio" class="section level2">
<h2><strong>What is RStudio?</strong></h2>
<p><br />
</p>
<p>If you click on the R program you just downloaded, you will find a
very basic user interface. For example, below is what I get on a Mac</p>
<p><br></p>
<center>
<div class="float">
<img
src="rint.png"
alt="R’s Interface." />
<div class="figcaption">R’s Interface.</div>
</div>
</center>
<p><br></p>
<p>We will not use R’s direct interface to run analyses. Instead, we
will use the program RStudio. RStudio gives you a true integrated
development environment (IDE), where you can write code in a window, see
results in other windows, see locations of files, see objects you’ve
created, and so on. To clarify which is which: R is the name of the
programming language itself and RStudio is a convenient interface.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="getting-rstudio" class="section level2">
<h2><strong>Getting RStudio</strong></h2>
<p><br />
</p>
<p>To download and install RStudio, follow the directions below</p>
<ol style="list-style-type: decimal">
<li>Navigate to RStudio’s download <a
href="https://rstudio.com/products/rstudio/download/#download">site</a></li>
<li>Click on the “Download RStudio Desktop” link under the header “2:
Install RStudio”. This will prompt you to save an installer package on
your drive.</li>
<li>Click on the installer that you downloaded. Follow the installation
wizard’s directions, making sure to keep all defaults intact. After
installation, RStudio should pop up in your Applications or Programs
folder/menu.</li>
</ol>
<p>Note that the most recent version of RStudio works only for certain
operating systems (OS). If you have an older OS, you will need to
download an older version RStudio, which you can find <a
href="https://docs.posit.co/previous-versions/rstudio/">here</a>.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="the-rstudio-interface" class="section level2">
<h2><strong>The RStudio Interface</strong></h2>
<p><br />
</p>
<p>Open up RStudio. It may ask you to connect to R, which you’ve already
downloaded. You should see the interface shown in the figure below which
has three windows.</p>
<center>
<div class="float">
<img
src="rgui.png"
alt="The RStudio Interface." />
<div class="figcaption">The RStudio Interface.</div>
</div>
</center>
<p><br />
</p>
<ul>
<li><strong>Console</strong> (left) - The way R works is you write a
line of code to execute some kind of task on a data object. The R
Console allows you to run code interactively. The screen prompt
<code>&gt;</code> is an invitation from R to enter its world. This is
where you type code in, press enter to execute the code, and see the
results.</li>
<li><strong>Environment, History, and Connections tabs</strong>
(upper-right)
<ul>
<li><strong>Environment</strong> - shows all the R objects that are
currently open in your workspace. This is the place, for example, where
you will see any data you’ve loaded into R. When you exit RStudio, R
will clear all objects in this window. You can also click on <img
src="broom.png" />
to clear out all the objects loaded and created in your current
session.</li>
<li><strong>History</strong> - shows a list of executed commands in the
current session.</li>
<li><strong>Connections</strong> - you can connect to a variety of data
sources, and explore the objects and data inside the connection. I
typically don’t use this window, but you <a
href="https://support.rstudio.com/hc/en-us/articles/115010915687-Using-RStudio-Connections">can</a>.<br />
</li>
<li><strong>Tutorial</strong> - used to run tutorials that will help you
learn and master the R programming language.<br />
</li>
</ul></li>
<li><strong>Files, Plots, Packages, Help and Viewer tabs</strong>
(lower-right)
<ul>
<li><strong>Files</strong> - shows all the files and folders in your
current working directory (more on what this means later).</li>
<li><strong>Plots</strong> - shows any charts, graphs, maps and plots
you’ve successfully executed (we’ll be using this window starting in Lab
5).<br />
</li>
<li><strong>Packages</strong> - tells you all the R packages that you
have access to (more on this in Lab 2).</li>
<li><strong>Help</strong> - shows help documentation for R commands that
you’ve called up.<br />
</li>
<li><strong>Viewer</strong> - allows you to view local web content
(won’t be using this much).</li>
<li><strong>Presentation</strong> - used to display HTML slides.</li>
</ul></li>
</ul>
<p>There is actually fourth window. But, we’ll get to this window a
little later (if you read the <a
href="https://crd150.github.io/hw_guidelines.html">assignment
guidelines</a> you already know what this fourth window is).</p>
<p>For more information on each tab, check this <a
href="https://docs.posit.co/ide/user/ide/guide/ui/ui-panes.html">resource</a>.</p>
<div style="margin-bottom:25px;">

</div>
<div id="setting-rstudio-defaults" class="section level3">
<h3><strong>Setting RStudio Defaults</strong></h3>
<p><br />
</p>
<p>While not required, I strongly suggest that you change preferences in
RStudio to never save the workspace so you always open with a clean
environment. See <a
href="https://r4ds.had.co.nz/workflow-projects.html#what-is-real">Ch.
8.1</a> of R4DS for some more background</p>
<ol style="list-style-type: decimal">
<li>From the Tools menu on RStudio, open the Tools menu and then select
Global Options.</li>
<li>If not already highlighted, click on the General button from the
left panel.</li>
<li>Uncheck the following Restore boxes</li>
</ol>
<ul>
<li>Restore most recently opened project at startup</li>
<li>Restore previously open source documents at startup</li>
<li>Restore .RData into workspace at startup</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Set Save Workspace to .RData on exit to <em>Never</em></li>
<li>Click OK at the bottom to save the changes and close the preferences
window. You may need to restart RStudio.</li>
</ol>
<p><br></p>
<center>
<div class="float">
<img
src="rstudiopreferences.png"
alt="RStudio Preferences" />
<div class="figcaption">RStudio Preferences</div>
</div>
</center>
<p><br></p>
<p>The reason for making these changes is that it is preferable for
reproducibility to start each R session with a clean environment. You
can restore a previous environment either by rerunning code or by
manually loading a previously saved session.</p>
<p>The R Studio environment is modified when you execute code from files
or from the console. If you always start fresh, you do not need to be
concerned about things not working because of something you typed in the
console, but did not save in a file.</p>
<p>You only need to set these preferences once.</p>
<div style="margin-bottom:25px;">

</div>
</div>
</div>
<div id="r-data-types" class="section level2">
<h2><strong>R Data Types</strong></h2>
<p><br />
</p>
<p>Let’s now explore what R can do. R is really just a big fancy
calculator. For example, type in the following mathematical expression
next to the <code>&gt;</code> in the R console (left window)</p>
<pre class="r"><code>1+1</code></pre>
<p>Note that spacing does not matter: <code>1+1</code> will generate the
same answer as <code>1      +       1</code>. Can you say hello to the
world?<br />
</p>
<pre class="r"><code>hello world</code></pre>
<pre><code>## Error: &lt;text&gt;:1:7: unexpected symbol
## 1: hello world
##           ^</code></pre>
<p>Nope. What is the problem here? We need to put quotes around it.</p>
<pre class="r"><code>&quot;hello world&quot;</code></pre>
<pre><code>## [1] &quot;hello world&quot;</code></pre>
<p>“hello world” is a character and R recognizes characters only if
there are quotes around it. This brings us to the topic of basic data
types in R. There are four basic data types in R: character, logical,
numeric, and factors (there are two others - complex and raw - but we
won’t cover them because they are rarely used).</p>
<div style="margin-bottom:25px;">

</div>
<div id="characters" class="section level3">
<h3><strong>Characters</strong></h3>
<p><br />
</p>
<p>Characters are used to represent words or letters in R. We saw this
above with “hello world”. Character values are also known as strings.
You might think that the value <code>"1"</code> is a number. Well, with
quotes around, it isn’t! Anything with quotes will be interpreted as a
character. No ifs, ands or buts about it.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="logicals" class="section level3">
<h3><strong>Logicals</strong></h3>
<p><br />
</p>
<p>A logical takes on two values: FALSE or TRUE. Logicals are usually
constructed with comparison operators, which we’ll go through more
carefully in Lab 2. Think of a logical as the answer to a question like
“Is this value greater than (lower than/equal to) this other value?” The
answer will be either TRUE or FALSE. TRUE and FALSE are logical values
in R. For example, typing in the following</p>
<pre class="r"><code>3 &gt; 2</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>gives us a true. What about the following?</p>
<pre class="r"><code>&quot;prof visser&quot; == &quot;prof cannon&quot;</code></pre>
<pre><code>## [1] FALSE</code></pre>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="numeric" class="section level3">
<h3><strong>Numeric</strong></h3>
<p><br />
</p>
<p>Numerics are separated into two types: integer and double. The
distinction between integers and doubles is usually not important. R
treats numerics as doubles by default because it is a less restrictive
data type. You can do any mathematical operation on numeric values. We
added one and one above. We can also multiply using the <code>*</code>
operator</p>
<pre class="r"><code>2*3</code></pre>
<pre><code>## [1] 6</code></pre>
<p>Divide</p>
<pre class="r"><code>4/2</code></pre>
<pre><code>## [1] 2</code></pre>
<p>And even take the logarithm!</p>
<pre class="r"><code>log(1)</code></pre>
<pre><code>## [1] 0</code></pre>
<pre class="r"><code>log(0)</code></pre>
<pre><code>## [1] -Inf</code></pre>
<p>Uh oh. What is <code>-Inf</code>? Well, you can’t take the logarithm
of 0, so R is telling you that you’re getting a non numeric value in
return. The value <code>-Inf</code> is another type of value type that
you can get in R. We’ll go through this and other weirdo values in Lab
2.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="factors" class="section level3">
<h3><strong>Factors</strong></h3>
<p><br />
</p>
<p>Think of a factor as a categorical variable. It is sort of like a
character, but not really. It is actually a numeric code with
character-valued levels. Think of a character as a true string and a
factor as a set of categories represented as characters. We won’t use
factors too much in this course.</p>
<div style="margin-bottom:25px;">

</div>
</div>
</div>
<div id="r-data-structures" class="section level2">
<h2><strong>R Data Structures</strong></h2>
<p><br />
You learned that R has four basic data types. Now, let’s go through how
we can store data in R. That is, you type in the character “hello world”
or the number 3, and you want to store these values. You do this by
using R’s various data structures.</p>
<div style="margin-bottom:25px;">

</div>
<div id="vectors" class="section level3">
<h3><strong>Vectors</strong></h3>
<p><br />
</p>
<p>A vector is the most common and basic R data structure and is pretty
much the workhorse of the language. A vector is simply a sequence of
values which can be of any data type but all of the same type. There are
a number of ways to create a vector depending on the data type, but the
most common is to insert the data you want to save in a vector into the
command <code>c()</code>. For example, to save the values 4, 16 and 9 in
a vector type in</p>
<pre class="r"><code>c(4, 16, 9)</code></pre>
<pre><code>## [1]  4 16  9</code></pre>
<p>You can also have a vector of character values</p>
<pre class="r"><code>c(&quot;martin&quot;, &quot;anne&quot;, &quot;clare&quot;)</code></pre>
<pre><code>## [1] &quot;martin&quot; &quot;anne&quot;   &quot;clare&quot;</code></pre>
<p>The above code does not actually “save” the values 4, 16, and 9 - it
just presents it on the screen in a vector. If you want to use these
values again without having to type out <code>c(4, 16, 9)</code>, you
can save it in a data object. At the heart of almost everything you will
do (or ever likely to do) in R is the concept that everything in R is an
object. These objects can be almost anything, from a single number or
character string (like a word) to highly complex structures like the
output of a plot, a map, or a summary of your statistical analysis.</p>
<p>You assign data to an object using the arrow sign <code>&lt;-</code>.
This will create an object in R’s memory that can be called back into
the command window at any time. For example, you can save “hello world”
to a vector called <em>b</em> by typing in</p>
<pre class="r"><code>b &lt;- &quot;hello world&quot;
b</code></pre>
<pre><code>## [1] &quot;hello world&quot;</code></pre>
<p>You can pronounce the above as “b becomes ‘hello world’”.</p>
<p>Similarly, you can save the numbers 4, 16 and 9 into a vector called
<em>v1</em></p>
<pre class="r"><code>v1 &lt;- c(4, 16, 9)
v1</code></pre>
<pre><code>## [1]  4 16  9</code></pre>
<p>You should see the objects <em>b</em> and <em>v1</em> pop up in the
Environment tab on the top right window of your RStudio interface.</p>
<center>
<div class="float">
<img
src="lab0fig.png"
alt="The Environment window" />
<div class="figcaption">The Environment window</div>
</div>
</center>
<p>Note that the name <em>v1</em> is nothing special here. You could
have named the object <em>x</em> or <em>crd150</em> or your pet’s name
(mine was <em>charlie</em>). You can’t, however, name objects using
special characters (e.g. !, @, $) or only numbers (although you can
combine numbers and letters, but a number cannot be at the beginning
e.g. <em>2d2</em>). For example, you’ll get an error if you save the
vector <em>c(4,16,9)</em> to an object with the following names</p>
<pre class="r"><code>123 &lt;- c(4, 16, 9)
!!! &lt;- c(4, 16, 9)</code></pre>
<pre><code>## Error: &lt;text&gt;:2:5: unexpected assignment
## 1: 123 &lt;- c(4, 16, 9)
## 2: !!! &lt;-
##        ^</code></pre>
<p>Also note that to distinguish a character value from a variable name,
it needs to be quoted. “v1” is a character value whereas <em>v1</em> is
a variable. One of the most common mistakes for beginners is to forget
the quotes.</p>
<pre class="r"><code>brazil</code></pre>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;brazil&#39; not found</code></pre>
<p>The error occurs because R tries to print the value of the object
<em>brazil</em>, but there is no such object. So remember that any time
you get the error message <code>object 'something' not found</code>, the
most likely reason is that you forgot to quote a character value. If
not, it probably means that you have misspelled, or not yet created, the
object that you are referring to. I’ve included the common pitfalls and
R tips in this class <a
href="https://crd150.github.io/tips.html">resource</a>.</p>
<p>Every vector has two key properties: <em>type</em> and
<em>length</em>. The type property indicates the data type that the
vector is holding. Use the command <code>typeof()</code> to determine
the type</p>
<pre class="r"><code>typeof(b)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>typeof(v1)</code></pre>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>Note that a vector cannot hold values of different types. If
different data types exist, R will coerce the values into the highest
type based on its internal hierarchy: logical &lt; integer &lt; double
&lt; character. Type in <code>test &lt;- c("r", 6, TRUE)</code> in your
R console. What is the vector type of <code>test</code>?</p>
<p>The command <code>length()</code> determines the number of data
values that the vector is storing</p>
<pre class="r"><code>length(b)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>length(v1)</code></pre>
<pre><code>## [1] 3</code></pre>
<p>You can also directly determine if a vector is of a specific data
type by using the command <code>is.X()</code> where you replace
<code>X</code> with the data type. For example, to find out if
<em>v1</em> is numeric, type in</p>
<pre class="r"><code>is.numeric(b)</code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="r"><code>is.numeric(v1)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>There is also <code>is.logical()</code>, <code>is.character()</code>,
and <code>is.factor()</code>. You can also coerce a vector of one data
type to another. For example, save the value “1” and “2” (both in
quotes) into a vector named <em>x1</em></p>
<pre class="r"><code>x1 &lt;- c(&quot;1&quot;, &quot;2&quot;)
typeof(x1)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>To convert <em>x1</em> into a numeric, use the command
<code>as.numeric()</code></p>
<pre class="r"><code>x2 &lt;- as.numeric(x1)
typeof(x2)</code></pre>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>There is also <code>as.logical()</code>, <code>as.character()</code>,
and <code>as.factor()</code>.</p>
<p>An important practice you should adopt early is to keep only
necessary objects in your current R Environment. For example, we will
not be using <em>x2</em> any longer in this guide. To remove this object
from R forever, use the command <code>rm()</code></p>
<pre class="r"><code>rm(x2)</code></pre>
<p>The data frame object <em>x2</em> should have disappeared from the
Environment tab. <a
href="https://www.youtube.com/watch?v=Eo-KmOd3i7s">Bye bye!</a></p>
<p>Also note that when you close down R Studio, the objects you created
above will disappear for good. Unless you save them onto your hard drive
(we’ll touch on saving data in Lab 2), all data objects you create in
your current R session will go <a
href="https://www.youtube.com/watch?v=UqfLVDIZcP8">bye bye</a> when you
exit the program.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="data-frames" class="section level3">
<h3><strong>Data Frames</strong></h3>
<p><br />
</p>
<p>We learned that data values can be stored in data structures known as
vectors. The next step is to learn how to store vectors into an even
higher level data structure. The data frame can do this. Data frames
store vectors of the same length. Create a vector called <em>v2</em>
storing the values 5, 12, and 25</p>
<pre class="r"><code>v2 &lt;- c(5,12,25)</code></pre>
<p>We can create a data frame using the command
<code>data.frame()</code> storing the vectors <em>v1</em> and
<em>v2</em> as columns</p>
<pre class="r"><code>data.frame(v1, v2)</code></pre>
<pre><code>##   v1 v2
## 1  4  5
## 2 16 12
## 3  9 25</code></pre>
<p>Store this data frame in an object called <em>df1</em></p>
<pre class="r"><code>df1&lt;-data.frame(v1, v2)</code></pre>
<p><em>df1</em> should pop up in your Environment window. You’ll notice
a <img
src="lab0fig2.png" />
next to <em>df1</em>. This tells you that <em>df1</em> possesses or
holds more than one object. Click on <img
src="lab0fig2.png" />
and you’ll see the two vectors we saved into <em>df1</em>. Another neat
thing you can do is directly click on <em>df1</em> from the Environment
window to bring up an Excel style worksheet on the top left window of
your RStudio interface. You can also type in</p>
<pre class="r"><code>View(df1)</code></pre>
<p>to bring the worksheet up. You can’t edit this worksheet directly,
but it allows you to see the values that a higher level R data object
contains.</p>
<p>We can store different types of vectors in a data frame. For example,
we can save the numeric vector <em>v1</em> with a character vector
<em>v3</em>.</p>
<pre class="r"><code>v3 &lt;- c(&quot;martin&quot;, &quot;anne&quot;, &quot;clare&quot;)
df2 &lt;- data.frame(v1, v3)
df2</code></pre>
<p>For higher level data structures like a data frame, use the function
<code>class()</code> to figure out what kind of object you’re working
with.</p>
<pre class="r"><code>class(df2)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>We can’t use <code>length()</code> on a data frame because it has
more than one vector. Instead, it has <em>dimensions</em> - the number
of rows and columns. You can find the number of rows in a data fram
using <code>nrow()</code></p>
<pre class="r"><code>nrow(df1)</code></pre>
<pre><code>## [1] 3</code></pre>
<p>Number of columms using <code>ncol(df2)</code></p>
<pre class="r"><code>ncol(df1)</code></pre>
<pre><code>## [1] 2</code></pre>
<p>and the number of row and columns by using the command
<code>dim()</code></p>
<pre class="r"><code>dim(df1)</code></pre>
<pre><code>## [1] 3 2</code></pre>
<p>Here, the data frame <em>df1</em> has 3 rows and 2 columns. Data
frames also have column names, which are characters.</p>
<pre class="r"><code>colnames(df1)</code></pre>
<pre><code>## [1] &quot;v1&quot; &quot;v2&quot;</code></pre>
<p>In this case, the data frame used the vector names for the column
names.</p>
<p>We can extract columns from data frames by referring to their names
using the <code>$</code> sign.</p>
<pre class="r"><code>df1$v1</code></pre>
<pre><code>## [1]  4 16  9</code></pre>
<p>We can also extract data from data frames using brackets
<code>[ , ]</code></p>
<pre class="r"><code>df1[,1]</code></pre>
<pre><code>## [1]  4 16  9</code></pre>
<p>The value before the comma indicates the row, which you leave empty
if you are not selecting by row. The value after the comma indicates the
column, which you leave empty if you are not selecting by column. The
above line of code selected the first column. Let’s select the 2nd
row.</p>
<pre class="r"><code>df1[2,]</code></pre>
<pre><code>##   v1 v2
## 2 16 12</code></pre>
<p>What is the value in the 2nd row <em>and</em> 1st column?</p>
<pre class="r"><code>df1[2,1]</code></pre>
<pre><code>## [1] 16</code></pre>
<p>We’ve been talking about the values in vectors and data frames rather
abstractly. In practice, values, vectors and data frames have specific
meaning in the context of data analysis. Let’s make things concrete.
Take a look at this <a
href="https://ucr.fbi.gov/crime-in-the-u.s/2016/crime-in-the-u.s.-2016/tables/table-6/table-6-state-cuts/california.xls">website</a>
showing crimes in California cities in 2016. Sacramento had 3,549
violent crime incidences. This is a data value (numeric!). The
collection of violent crime counts for each city is a vector. The data
frame has California cities as rows and the population, violent crime,
homicide, and so on as columns. You learned about these elements in
Handout 1. Now you see them in action in the R environment.</p>
<div style="margin-bottom:25px;">

</div>
</div>
</div>
<div id="functions" class="section level2">
<h2><strong>Functions</strong></h2>
<p><br />
</p>
<p>Let’s take a step back and talk about functions (also known as
commands). An R function is a packaged recipe that converts one or more
inputs (called arguments) into a single output. You execute most of your
tasks in R using functions. We have already used a couple of functions
above including <code>typeof()</code> and <code>colnames()</code>. Every
function in R will have the following basic format</p>
<p><code>functionName(arg1 = val1, arg2 = val2, ...)</code></p>
<p>In R, you type in the function’s name and set a number of options or
parameters within parentheses that are separated by commas. Some options
<strong>need</strong> to be set by the user - i.e. the function will
spit out an error because a required option is blank - whereas others
can be set but are not required because there is a default value
established.</p>
<p>Let’s use the function <code>seq()</code> which makes regular
sequences of numbers. You can find out what a function does and its
options by calling up its help documentation by typing <code>?</code>
and the function name. The documentation should also provide some
examples of the function at the bottom of the page.</p>
<pre class="r"><code>? seq</code></pre>
<p>The help documentation should have popped up in the bottom right
window of your RStudio interface. The function contains
<code>from</code>, <code>to</code>, <code>by</code>, and other
arguments. Under the Arguments section you can find what each of these
parameters means.</p>
<p><br></p>
<center>
<img
src="seqhelp.png" />
</center>
<p><br></p>
<p>The description of the arguments <code>from</code> and
<code>to</code> are <em>the starting and (maximal) end values of the
sequence. Of length 1 unless just from is supplied as an unnamed
argument.</em> Type the arguments <code>from = 1, to = 10</code> inside
the parentheses of <code>seq()</code></p>
<pre class="r"><code>seq(from = 1, to = 10)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>You should get the same result if you type in</p>
<pre class="r"><code>seq(1, 10)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>The code above demonstrates something about how R resolves function
arguments. When you use a function, you can always specify all the
arguments in <code>arg = value</code> form. But if you do not, R
attempts to resolve by position. So in the code <code>seq(1, 10)</code>,
it is assumed that we want a sequence <code>from = 1</code> that goes
<code>to = 10</code> because we typed 1 before 10. Type in 10 before 1
and see what happens.</p>
<p>Each argument requires a certain type of data type. For example,
you’ll get an error when you use a character in <code>seq()</code></p>
<pre class="r"><code>seq(&quot;p&quot;, &quot;w&quot;)</code></pre>
<pre><code>## Error in seq.default(&quot;p&quot;, &quot;w&quot;): &#39;from&#39; must be a finite number</code></pre>
<p>Although the lab guides and course textbooks should get you through a
lot of the functions that are needed to successfully accomplish tasks
for this class, you will need to rely on the help documentation to
better understand how functions work. There are also a number of useful
online resources on R and RStudio that you can look into if you get
stuck or want to learn more. We outline these resources <a
href="https://crd150.github.io/tips.html#Getting_help">here</a>. If you
ever get stuck, check this resource out first to troubleshoot before
immediately asking a friend or the instructor/TA.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="r-scripting" class="section level2">
<h2><strong>R Scripting</strong></h2>
<p><br />
</p>
<p>In running the few lines of code above, we’ve asked you to work
directly in the R Console and issue commands in an <em>interactive</em>
way. That is, you type a command after <code>&gt;</code>, you hit
enter/return, R responds, you type the next command, hit enter/return, R
responds, and so on. As described in Handout 1, instead of writing the
command directly into the console, you should write it in a script. The
process is now: Type your command in the script. Run the code from the
script. R responds. You get results. You can write two commands in a
script. Run both simultaneously. R responds. You get results. This is
the basic flow. In your homework assignments, we will be asking you to
submit code in an R Markdown file. R Markdown allows you to create
documents that serve as a neat record of your analysis. Think of it as a
word document, but instead of sentences in an essay, you are writing
code for a data analysis.</p>
<p>Rather than copying and pasting code from the lab guides into the R
Console as you’ve been doing up to this point, type it into an R
Markdown file and then run the code from there. Even though you do not
need to turn in the labs, running the lab code in your own R Markdown
file will give you practice for your assignments. Plus, the code is in
<strong>your</strong> document, so you can add explanatory text or
supplement the guide’s code with your own code.</p>
<p>Just like for each assignment, I will provide an R Markdown template
for each lab. Download the R Markdown <a
href="https://raw.githubusercontent.com/crd150/data/master/labtemplate.Rmd">Lab
template</a> into an appropriate folder on your hard drive. It’s best to
set up on your hard drive a clean and efficient file management
structure for this class as described in the <a
href="https://crd150.github.io/hw_guidelines.html">assignment
guidelines</a>. For example, below is where I would save Lab 1’s R
Markdown file on my Mac laptop (I named the file “Lab 1”).</p>
<center>
<div class="float">
<img
src="lab1fig1.png"
alt="This is what file organization looks like" />
<div class="figcaption">This is what file organization looks like</div>
</div>
</center>
<p><br></p>
<p>When you knit this RMarkdown, the resulting html file will be located
in this folder.</p>
<p>Open the file in R Studio by clicking on <em>File</em> from the top
menu, click on <em>Open File</em>, navigate to your Lab 1 folder, and
click on the Lab 1 R Markdown file you downloaded. Once you do this, if
there isn’t already one on your console, a fourth window should pop up
in the top left showing you an R Markdown file.</p>
<p><br></p>
<center>
<div class="float">
<img
src="chunk1.png"
alt="The full RStudio interface" />
<div class="figcaption">The full RStudio interface</div>
</div>
</center>
<p><br></p>
<p>In this file, change the title to “Lab 1” and insert your name and
date. Don’t change anything else inside the YAML (the stuff at the top
in between the <code>---</code>). Also don’t change the following
chunk.</p>
<pre><code>```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning=FALSE, message = FALSE)
```</code></pre>
<p>All your code should go inside areas designated as</p>
<pre><code>```{r}
#Type your code here
```</code></pre>
<p>For example, you would write the code <code>1+1</code> as</p>
<pre><code>```{r}
1+1
```</code></pre>
<p>From the file, run the code. R responds. You get results.</p>
<p>Now is a good time to read through the class <a
href="https://crd150.github.io/hw_guidelines.html">assignment
guidelines</a> as they go through the basics of R Markdown files. Go
through this guide carefully as you will need to submit all your
homework assignments using R Markdown.</p>
<hr />
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a><br />This
work is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative
Commons Attribution-NonCommercial 4.0 International License</a>.</p>
<p>Website created and maintained by <a
href="https://nbrazil.faculty.ucdavis.edu/">Noli Brazil</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
